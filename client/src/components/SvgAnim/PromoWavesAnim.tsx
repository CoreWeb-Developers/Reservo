import anime from 'animejs/lib/anime.es.js';
import { SVGProps, useEffect, useRef } from 'react';

const svgPaths = {
  firstWave: {
    start:
      'M0 48L16.7 52.2C33.3 56.3 66.7 64.7 100 66.3C133.3 68 166.7 63 200 62.3C233.3 61.7 266.7 65.3 300 68.3C333.3 71.3 366.7 73.7 400 73.7C433.3 73.7 466.7 71.3 500 68.3C533.3 65.3 566.7 61.7 600 64.3C633.3 67 666.7 76 700 75C733.3 74 766.7 63 800 59.3C833.3 55.7 866.7 59.3 883.3 61.2L900 63L900 201L883.3 201C866.7 201 833.3 201 800 201C766.7 201 733.3 201 700 201C666.7 201 633.3 201 600 201C566.7 201 533.3 201 500 201C466.7 201 433.3 201 400 201C366.7 201 333.3 201 300 201C266.7 201 233.3 201 200 201C166.7 201 133.3 201 100 201C66.7 201 33.3 201 16.7 201L0 201Z',
    end: 'M0 65L16.7 63.3C33.3 61.7 66.7 58.3 100 55.7C133.3 53 166.7 51 200 51.8C233.3 52.7 266.7 56.3 300 58.3C333.3 60.3 366.7 60.7 400 62.3C433.3 64 466.7 67 500 70C533.3 73 566.7 76 600 78.3C633.3 80.7 666.7 82.3 700 81.5C733.3 80.7 766.7 77.3 800 76.7C833.3 76 866.7 78 883.3 79L900 80L900 201L883.3 201C866.7 201 833.3 201 800 201C766.7 201 733.3 201 700 201C666.7 201 633.3 201 600 201C566.7 201 533.3 201 500 201C466.7 201 433.3 201 400 201C366.7 201 333.3 201 300 201C266.7 201 233.3 201 200 201C166.7 201 133.3 201 100 201C66.7 201 33.3 201 16.7 201L0 201Z',
    third:
      'M0 77L16.7 75.2C33.3 73.3 66.7 69.7 100 69.5C133.3 69.3 166.7 72.7 200 72.7C233.3 72.7 266.7 69.3 300 70.3C333.3 71.3 366.7 76.7 400 79.8C433.3 83 466.7 84 500 78.3C533.3 72.7 566.7 60.3 600 59C633.3 57.7 666.7 67.3 700 67.2C733.3 67 766.7 57 800 52.7C833.3 48.3 866.7 49.7 883.3 50.3L900 51L900 201L883.3 201C866.7 201 833.3 201 800 201C766.7 201 733.3 201 700 201C666.7 201 633.3 201 600 201C566.7 201 533.3 201 500 201C466.7 201 433.3 201 400 201C366.7 201 333.3 201 300 201C266.7 201 233.3 201 200 201C166.7 201 133.3 201 100 201C66.7 201 33.3 201 16.7 201L0 201Z',
  },
  secondWave: {
    start:
      'M0 77L16.7 81.8C33.3 86.7 66.7 96.3 100 97.5C133.3 98.7 166.7 91.3 200 88.3C233.3 85.3 266.7 86.7 300 90C333.3 93.3 366.7 98.7 400 101C433.3 103.3 466.7 102.7 500 103.2C533.3 103.7 566.7 105.3 600 100.8C633.3 96.3 666.7 85.7 700 83.5C733.3 81.3 766.7 87.7 800 87.5C833.3 87.3 866.7 80.7 883.3 77.3L900 74L900 201L883.3 201C866.7 201 833.3 201 800 201C766.7 201 733.3 201 700 201C666.7 201 633.3 201 600 201C566.7 201 533.3 201 500 201C466.7 201 433.3 201 400 201C366.7 201 333.3 201 300 201C266.7 201 233.3 201 200 201C166.7 201 133.3 201 100 201C66.7 201 33.3 201 16.7 201L0 201Z',
    end: 'M0 103L16.7 102.3C33.3 101.7 66.7 100.3 100 99.2C133.3 98 166.7 97 200 96.5C233.3 96 266.7 96 300 93C333.3 90 366.7 84 400 85.2C433.3 86.3 466.7 94.7 500 99C533.3 103.3 566.7 103.7 600 101.7C633.3 99.7 666.7 95.3 700 95C733.3 94.7 766.7 98.3 800 97.2C833.3 96 866.7 90 883.3 87L900 84L900 201L883.3 201C866.7 201 833.3 201 800 201C766.7 201 733.3 201 700 201C666.7 201 633.3 201 600 201C566.7 201 533.3 201 500 201C466.7 201 433.3 201 400 201C366.7 201 333.3 201 300 201C266.7 201 233.3 201 200 201C166.7 201 133.3 201 100 201C66.7 201 33.3 201 16.7 201L0 201Z',
    third:
      'M0 98L16.7 94.5C33.3 91 66.7 84 100 84.5C133.3 85 166.7 93 200 97.8C233.3 102.7 266.7 104.3 300 103C333.3 101.7 366.7 97.3 400 95.3C433.3 93.3 466.7 93.7 500 94.7C533.3 95.7 566.7 97.3 600 94.7C633.3 92 666.7 85 700 83.7C733.3 82.3 766.7 86.7 800 88.8C833.3 91 866.7 91 883.3 91L900 91L900 201L883.3 201C866.7 201 833.3 201 800 201C766.7 201 733.3 201 700 201C666.7 201 633.3 201 600 201C566.7 201 533.3 201 500 201C466.7 201 433.3 201 400 201C366.7 201 333.3 201 300 201C266.7 201 233.3 201 200 201C166.7 201 133.3 201 100 201C66.7 201 33.3 201 16.7 201L0 201Z',
  },
  thirdWave: {
    start:
      'M0 106L16.7 109.7C33.3 113.3 66.7 120.7 100 123.2C133.3 125.7 166.7 123.3 200 121.7C233.3 120 266.7 119 300 116.5C333.3 114 366.7 110 400 109.7C433.3 109.3 466.7 112.7 500 111.8C533.3 111 566.7 106 600 105.7C633.3 105.3 666.7 109.7 700 111.3C733.3 113 766.7 112 800 111.5C833.3 111 866.7 111 883.3 111L900 111L900 201L883.3 201C866.7 201 833.3 201 800 201C766.7 201 733.3 201 700 201C666.7 201 633.3 201 600 201C566.7 201 533.3 201 500 201C466.7 201 433.3 201 400 201C366.7 201 333.3 201 300 201C266.7 201 233.3 201 200 201C166.7 201 133.3 201 100 201C66.7 201 33.3 201 16.7 201L0 201Z',
    end: 'M0 102L16.7 105.7C33.3 109.3 66.7 116.7 100 118.5C133.3 120.3 166.7 116.7 200 115.2C233.3 113.7 266.7 114.3 300 114.3C333.3 114.3 366.7 113.7 400 116.2C433.3 118.7 466.7 124.3 500 125C533.3 125.7 566.7 121.3 600 119.8C633.3 118.3 666.7 119.7 700 119.3C733.3 119 766.7 117 800 114.5C833.3 112 866.7 109 883.3 107.5L900 106L900 201L883.3 201C866.7 201 833.3 201 800 201C766.7 201 733.3 201 700 201C666.7 201 633.3 201 600 201C566.7 201 533.3 201 500 201C466.7 201 433.3 201 400 201C366.7 201 333.3 201 300 201C266.7 201 233.3 201 200 201C166.7 201 133.3 201 100 201C66.7 201 33.3 201 16.7 201L0 201Z',
    third:
      'M0 113L16.7 115.2C33.3 117.3 66.7 121.7 100 123.8C133.3 126 166.7 126 200 125C233.3 124 266.7 122 300 117.8C333.3 113.7 366.7 107.3 400 104.2C433.3 101 466.7 101 500 102.8C533.3 104.7 566.7 108.3 600 110.5C633.3 112.7 666.7 113.3 700 113C733.3 112.7 766.7 111.3 800 109.7C833.3 108 866.7 106 883.3 105L900 104L900 201L883.3 201C866.7 201 833.3 201 800 201C766.7 201 733.3 201 700 201C666.7 201 633.3 201 600 201C566.7 201 533.3 201 500 201C466.7 201 433.3 201 400 201C366.7 201 333.3 201 300 201C266.7 201 233.3 201 200 201C166.7 201 133.3 201 100 201C66.7 201 33.3 201 16.7 201L0 201Z',
  },
  fourthWave: {
    start:
      'M0 146L16.7 146.7C33.3 147.3 66.7 148.7 100 146.5C133.3 144.3 166.7 138.7 200 138.3C233.3 138 266.7 143 300 144.5C333.3 146 366.7 144 400 144.3C433.3 144.7 466.7 147.3 500 148.3C533.3 149.3 566.7 148.7 600 148C633.3 147.3 666.7 146.7 700 145.2C733.3 143.7 766.7 141.3 800 138.3C833.3 135.3 866.7 131.7 883.3 129.8L900 128L900 201L883.3 201C866.7 201 833.3 201 800 201C766.7 201 733.3 201 700 201C666.7 201 633.3 201 600 201C566.7 201 533.3 201 500 201C466.7 201 433.3 201 400 201C366.7 201 333.3 201 300 201C266.7 201 233.3 201 200 201C166.7 201 133.3 201 100 201C66.7 201 33.3 201 16.7 201L0 201Z',
    end: 'M0 145L16.7 145.2C33.3 145.3 66.7 145.7 100 146.2C133.3 146.7 166.7 147.3 200 148.2C233.3 149 266.7 150 300 149.7C333.3 149.3 366.7 147.7 400 146.2C433.3 144.7 466.7 143.3 500 144C533.3 144.7 566.7 147.3 600 147.2C633.3 147 666.7 144 700 144.3C733.3 144.7 766.7 148.3 800 147.3C833.3 146.3 866.7 140.7 883.3 137.8L900 135L900 201L883.3 201C866.7 201 833.3 201 800 201C766.7 201 733.3 201 700 201C666.7 201 633.3 201 600 201C566.7 201 533.3 201 500 201C466.7 201 433.3 201 400 201C366.7 201 333.3 201 300 201C266.7 201 233.3 201 200 201C166.7 201 133.3 201 100 201C66.7 201 33.3 201 16.7 201L0 201Z',
    third:
      'M0 149L16.7 147.7C33.3 146.3 66.7 143.7 100 142.7C133.3 141.7 166.7 142.3 200 144.2C233.3 146 266.7 149 300 149.5C333.3 150 366.7 148 400 145C433.3 142 466.7 138 500 135.7C533.3 133.3 566.7 132.7 600 133.8C633.3 135 666.7 138 700 138.5C733.3 139 766.7 137 800 137.8C833.3 138.7 866.7 142.3 883.3 144.2L900 146L900 201L883.3 201C866.7 201 833.3 201 800 201C766.7 201 733.3 201 700 201C666.7 201 633.3 201 600 201C566.7 201 533.3 201 500 201C466.7 201 433.3 201 400 201C366.7 201 333.3 201 300 201C266.7 201 233.3 201 200 201C166.7 201 133.3 201 100 201C66.7 201 33.3 201 16.7 201L0 201Z',
  },
  fifthWave: {
    start:
      'M0 174L16.7 172.2C33.3 170.3 66.7 166.7 100 164.5C133.3 162.3 166.7 161.7 200 160.5C233.3 159.3 266.7 157.7 300 158.5C333.3 159.3 366.7 162.7 400 163.7C433.3 164.7 466.7 163.3 500 162.3C533.3 161.3 566.7 160.7 600 160.3C633.3 160 666.7 160 700 161.5C733.3 163 766.7 166 800 168C833.3 170 866.7 171 883.3 171.5L900 172L900 201L883.3 201C866.7 201 833.3 201 800 201C766.7 201 733.3 201 700 201C666.7 201 633.3 201 600 201C566.7 201 533.3 201 500 201C466.7 201 433.3 201 400 201C366.7 201 333.3 201 300 201C266.7 201 233.3 201 200 201C166.7 201 133.3 201 100 201C66.7 201 33.3 201 16.7 201L0 201Z',
    end: 'M0 165L16.7 166.5C33.3 168 66.7 171 100 171.2C133.3 171.3 166.7 168.7 200 167.3C233.3 166 266.7 166 300 167.2C333.3 168.3 366.7 170.7 400 170.2C433.3 169.7 466.7 166.3 500 165.2C533.3 164 566.7 165 600 165.5C633.3 166 666.7 166 700 166.8C733.3 167.7 766.7 169.3 800 170.7C833.3 172 866.7 173 883.3 173.5L900 174L900 201L883.3 201C866.7 201 833.3 201 800 201C766.7 201 733.3 201 700 201C666.7 201 633.3 201 600 201C566.7 201 533.3 201 500 201C466.7 201 433.3 201 400 201C366.7 201 333.3 201 300 201C266.7 201 233.3 201 200 201C166.7 201 133.3 201 100 201C66.7 201 33.3 201 16.7 201L0 201Z',
    third:
      'M0 171L16.7 170C33.3 169 66.7 167 100 165.2C133.3 163.3 166.7 161.7 200 162.7C233.3 163.7 266.7 167.3 300 167.2C333.3 167 366.7 163 400 162.5C433.3 162 466.7 165 500 166.3C533.3 167.7 566.7 167.3 600 168.3C633.3 169.3 666.7 171.7 700 171.7C733.3 171.7 766.7 169.3 800 169C833.3 168.7 866.7 170.3 883.3 171.2L900 172L900 201L883.3 201C866.7 201 833.3 201 800 201C766.7 201 733.3 201 700 201C666.7 201 633.3 201 600 201C566.7 201 533.3 201 500 201C466.7 201 433.3 201 400 201C366.7 201 333.3 201 300 201C266.7 201 233.3 201 200 201C166.7 201 133.3 201 100 201C66.7 201 33.3 201 16.7 201L0 201Z',
  },
};

type Props = {
  duration?: number;
} & SVGProps<SVGSVGElement>;

const PromoWavesAnim = ({ duration = 15000, ...svgProps }: Props) => {
  const firstWave = useRef(null);
  const secondWave = useRef(null);
  const thirdWave = useRef(null);
  const fourthWave = useRef(null);
  const fifthWave = useRef(null);

  useEffect(() => {
    const timelineOffset = 0;
    const timeline = anime.timeline({
      easing: 'linear',
      duration: duration,
      loop: true,
    });

    timeline
      .add({
        targets: firstWave.current,
        d: [
          { value: svgPaths.firstWave.end },
          { value: svgPaths.firstWave.third },
          { value: svgPaths.firstWave.start },
        ],
      })
      .add(
        {
          targets: secondWave.current,
          d: [
            { value: svgPaths.secondWave.end },
            { value: svgPaths.secondWave.third },
            { value: svgPaths.secondWave.start },
          ],
        },
        timelineOffset,
      )
      .add(
        {
          targets: thirdWave.current,
          d: [
            { value: svgPaths.thirdWave.end },
            { value: svgPaths.thirdWave.third },
            { value: svgPaths.thirdWave.start },
          ],
        },
        timelineOffset,
      )
      .add(
        {
          targets: fourthWave.current,
          d: [
            { value: svgPaths.fourthWave.end },
            { value: svgPaths.fourthWave.third },
            { value: svgPaths.fourthWave.start },
          ],
        },
        timelineOffset,
      )
      .add(
        {
          targets: fifthWave.current,
          d: [
            { value: svgPaths.fifthWave.end },
            { value: svgPaths.fifthWave.third },
            { value: svgPaths.fifthWave.start },
          ],
        },
        timelineOffset,
      );
  }, []);

  return (
    <svg
      id="visual"
      viewBox="0 0 900 200"
      xmlns="http://www.w3.org/2000/svg"
      xmlnsXlink="http://www.w3.org/1999/xlink"
      version="1.1"
      {...svgProps}
    >
      <path d={svgPaths.firstWave.start} ref={firstWave} fill="#3182ce"></path>
      <path d={svgPaths.secondWave.start} ref={secondWave} fill="#3275ba"></path>
      <path d={svgPaths.thirdWave.start} ref={thirdWave} fill="#3169a7"></path>
      <path d={svgPaths.fourthWave.start} ref={fourthWave} fill="#2f5d94"></path>
      <path d={svgPaths.fifthWave.start} ref={fifthWave} fill="#2c5282"></path>
    </svg>
  );
};

export default PromoWavesAnim;
